
  
    <html>
	<head>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<title>JS����DES���ܴ���</title>
		<script type="text/javascript" src="js\jquery.min.js"></script>
		<script src="js\rollups\tripledes.js"></script>
		<script src="js\components\mode-ecb.js"></script>
		<script>
			 //DES ���� ����
			function encryptByDES(message, key) {
					var keyHex = CryptoJS.enc.Utf8.parse(key);
					var encrypted = CryptoJS.DES.encrypt(message, keyHex, {
						mode: CryptoJS.mode.ECB,
						padding: CryptoJS.pad.Pkcs7
					});
					return encrypted.toString();
				}
				//DES ����
			function decryptByDES(ciphertext, key) {
				var keyHex = CryptoJS.enc.Utf8.parse(key);
				// direct decrypt ciphertext
				var decrypted = CryptoJS.DES.decrypt({
					ciphertext: CryptoJS.enc.Base64.parse(ciphertext)
				}, keyHex, {
					mode: CryptoJS.mode.ECB,
					padding: CryptoJS.pad.Pkcs7
				});
				return decrypted.toString(CryptoJS.enc.Utf8);
			}
		</script>
		<script>
			 //����
			function encryptStr() {
					var strKey = $.trim($('#key').val());
					var strMsg = $.trim($('#text1').val());
					$('#text2').val(encryptByDES(strMsg, strKey));
				}
				//����
			function decryptStr() {
				var strKey = $.trim($('#key').val());
				var ciphertext = $.trim($('#text2').val());
				$('#text3').val(decryptByDES(ciphertext, strKey));
			}
		</script>
	</head>
	<body>
		<h1>QSSQ666</h1>
		<label>key</label>
		<input type="text" value="12345678" id="key">
		<div>
			<textarea id="text1" placeholder="input">abc</textarea>
			<input type="button" value="encrypt" onclick="encryptStr();">
			<textarea id="text2"></textarea>
			<input type="button" value="decript" onclick="decryptStr();">
			<textarea id="text3"></textarea>
		</div>
	</body>
</html>

  
